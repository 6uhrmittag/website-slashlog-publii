<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>LibMan - exploring Java - slashlog</title><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://slashlog.org/libman-java-library-management-app/"><link rel="amphtml" href="https://slashlog.org/amp/libman-java-library-management-app/"><link type="application/atom+xml" rel="alternate" href="https://slashlog.org/feed.xml"><meta property="og:title" content="LibMan - exploring Java"><meta property="og:image" content="https://slashlog.org/media/website/dojo-2.png"><meta property="og:site_name" content="slashlog"><meta property="og:description" content="<p>This documents the development of LibMan - a Java programming assignment.</p>
<p>The goal is to create a library management tool with GUI written in Java.<br>Since this is my first and probably last Java application, I'll use this opportunity to focus on stuff I'm personally interested in:</p>
<ul>
<li>how to use a CI with Java</li>
<li>how to test Java applications</li>
<li>how to ship Java applications (to Windows)</li>
<li>usage of design patterns"><meta property="og:url" content="https://slashlog.org/libman-java-library-management-app/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@6uhrmittag"><meta name="twitter:title" content="LibMan - exploring Java"><meta name="twitter:description" content="<p>This documents the development of LibMan - a Java programming assignment.</p>
<p>The goal is to create a library management tool with GUI written in Java.<br>Since this is my first and probably last Java application, I'll use this opportunity to focus on stuff I'm personally interested in:</p>
<ul>
<li>how to use a CI with Java</li>
<li>how to test Java applications</li>
<li>how to ship Java applications (to Windows)</li>
<li>usage of design patterns"><meta name="twitter:image" content="https://slashlog.org/media/website/dojo-2.png"><link rel="shortcut icon" href="https://slashlog.org/media/website/dojo-1.png" type="image/png"><link rel="stylesheet" href="https://slashlog.org/assets/css/style.css?v=dd51890906afe9ef75c1e14a8f4c9df0"><link rel="stylesheet" href="https://slashlog.org/assets/css/prism-original.css?v=8e39bda621bd1b6539e922224d50de9b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://slashlog.org/libman-java-library-management-app/"},"headline":"LibMan - exploring Java","datePublished":"2019-03-09T20:32","dateModified":"2019-03-10T17:16","image":{"@type":"ImageObject","url":"https://slashlog.org/media/website/dojo-1.png","height":1269,"width":1469},"description":"<p>This documents the development of LibMan - a Java programming assignment.</p>\n<p>The goal is to create a library management tool with GUI written in Java.<br>Since this is my first and probably last Java application, I'll use this opportunity to focus on stuff I'm personally interested in:</p>\n<ul>\n<li>how to use a CI with Java</li>\n<li>how to test Java applications</li>\n<li>how to ship Java applications (to Windows)</li>\n<li>usage of design patterns","publisher":{"@type":"Organization","name":"marvin","logo":{"@type":"ImageObject","url":"https://slashlog.org/media/website/dojo-1.png","height":1269,"width":1469}}}</script><script async src="https://slashlog.org/assets/js/lazysizes.min.js?v=fcb7109aacc796048242935c33a7f9ab"></script><style></style></head><body><header class="header" id="js-header"><a class="logo" href="https://slashlog.org"><img src="https://slashlog.org/media/website/dojo-1.png" alt="slashlog"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-controls="navigation"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul id="js-navbar-menu" class="navbar__menu"><li class="has-submenu"><span>projects</span><ul id="js-navbar-menu" class="navbar__submenu"><li><a href="https://taskbutler.org">taskbutler</a></li><li><a href="https://admindojo.org">admindojo</a></li></ul></li></ul></nav><a href="https://github.com/6uhrmittag" class="btn btn--outline btn--icon github" aria-label="Github" title="Github"><svg height="22" width="22"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#github"></use></svg> Github</a></header><main><div class="container"><div class="sidebar"><form action="https://slashlog.org/search.html" class="sidebar__search"><input type="search" name="q" placeholder="search..."></form><nav class="sidebar__menu"><ul class="js-sidebar-menu"><li class="has-submenu"><a href="https://slashlog.org/tag/projects/">personal projects</a><ul><li><a href="https://slashlog.org/bashblog/">bashblog</a></li></ul></li><li class="active-parent has-submenu"><a href="https://slashlog.org/tag/dev-journal/">development journal</a><ul><li><a href="https://slashlog.org/every-tool-deserves-a-name/">every tool deserves a name</a></li><li class="active"><a href="https://slashlog.org/libman-java-library-management-app/">LibMan - exploring Java</a></li></ul></li></ul></nav></div><div class="content content--center"><article class="post"><h1>LibMan - exploring Java</h1><div class="post__entry"><p>This documents the development of LibMan - a Java programming assignment.</p><p>The goal is to create a library management tool with GUI written in Java.<br>Since this is my first and probably last Java application, I'll use this opportunity to focus on stuff I'm personally interested in:</p><ul><li>how to use a CI with Java</li><li>how to test Java applications</li><li>how to ship Java applications (to Windows)</li><li>usage of design patterns<hr></li></ul><div class="post__toc"><h3>Table of Contents</h3><ul><li><a href="#mcetoc_1d5hvj3980">First things first: a pretty name</a></li><li><a href="#mcetoc_1d5i0f32u4">Versioning - git, Github, Gitlab, Bitbucket?</a></li><li><a href="#mcetoc_1d5i0252k1">Tough decision:¬†License</a></li><li><a href="#mcetoc_1d5i199855">IDE vs. VIM</a></li><li><a href="#mcetoc_1d5i1oje97">The wizard of new project - setting up a project</a></li><li><a href="#mcetoc_1d5i3e8398">Instant Motivation: adding tests</a><ul><li><a href="#mcetoc_1d5i3rffh9">First refactoring</a></li><li><a href="#mcetoc_1d5icomueb">Adding a simple test</a></li></ul></li><li><a href="#mcetoc_1d5idbv1sc">Adding Travis-CI - pom.xml -¬†complexity here we come</a><ul><li><a href="#mcetoc_1d5k3l76le">adding maven</a></li><li><a href="#mcetoc_1d5k432grf">.travis.yaml</a></li><li><a href="#mcetoc_1d5k4b7jsg">A personal motivator: Travis-CI</a></li></ul></li></ul></div><hr><p>I won't focus on code quality; I'll reuse code I created during the last semester and use as much IDE features as possible.</p><p>The assignment requires:</p><ul><li>diagrams</li><li>test data</li><li>GUI with JavaFX</li></ul><p class="msg msg--highlight">Note: The code will contain German text.</p><h2 id="mcetoc_1d5hvj3980">First things first: a pretty name</h2><p>As I already pointed out, I think a name is important.</p><p class="msg msg--success align-center">LibMan</p><p>done.</p><h2 id="mcetoc_1d5i0f32u4">Versioning - git, Github, Gitlab, Bitbucket?</h2><p>Even if¬†we won't use all features of versioing, if it is code</p><p class="msg msg--info">there is no excuse to not use versioning.</p><p>I'll use <a href="https://github.com" target="_blank" rel="noopener noreferrer">Github</a>.</p><p class="msg msg--info">I'm not a fan of <a href="https://gitlab.com" target="_blank" rel="noopener noreferrer">Gitlab </a>- I just get distracted by all its features.</p><p>Github solves one problem: Versioning. I'll connect external services as soon as I need them.</p><p class="msg msg--info">Simplicity is king, especially for beginners.</p><p>I'll use a private repository for the time of the development. Github kindly provides private repositories for all users and a set of free tools for students: <a href="https://education.github.com/pack" target="_blank" rel="noopener noreferrer">GitHub Student Developer Pack.</a><br>The pack enables students to use TravisCI with private repositoriesüëè.</p><h2 id="mcetoc_1d5i0252k1">Tough decision:¬†License</h2><p>Github kindly reminds us that licensing can be important.¬†This is a¬†programming assignment - it's only purpose is to learn stuff and be helpful for others:</p><p class="msg msg--info">MIT makes sharing as simple as possible.</p><h2 id="mcetoc_1d5i199855">IDE vs. VIM</h2><p>It would be cool to use VIM to write code. But, thanks to the¬†<a href="https://education.github.com/pack" target="_blank" rel="noopener noreferrer">GitHub Student Developer Pack</a>¬†I'm able to use<a href="https://www.jetbrains.com/idea" target="_blank" rel="noopener noreferrer">¬†IntelliJ IDEA Ultimate</a>. I never looked into Java IDEs - IntelliJ just works.</p><h2 id="mcetoc_1d5i1oje97">The magical wizard - setting up a project</h2><p>Since I don't even know that half of the choices mean, I just¬†the magical wizard to create a JavaFX app with Java 1.8 SDK.</p><p class="msg msg--info">Don't add anything to the initial project that you don't understand. Add complexity as needed.</p><p>Run the initial project to make sure you start with a working project. We'll break¬†it later, but it should run at least once.</p><figure class="post__image post__image--center"><img class="lazyload" src="https://slashlog.org/media/posts/4/responsive/LibMan_firstRun-xs.png" data-sizes="auto" data-srcset="https://slashlog.org/media/posts/4/responsive/LibMan_firstRun-xs.png 300w ,https://slashlog.org/media/posts/4/responsive/LibMan_firstRun-sm.png 480w ,https://slashlog.org/media/posts/4/responsive/LibMan_firstRun-md.png 749w" alt="First run." width="654" height="411"><figcaption>First run.</figcaption></figure><h2 id="mcetoc_1d5i3e8398">Instant Motivation: adding tests</h2><p>Writing tests can be annoying and take time, but tests¬†not only¬†ensure a working build, they also provide feedback and motivation. Since we know that the empty project worked, we'll add a test to ensure this state.</p><h3 id="mcetoc_1d5i3rffh9">First refactoring</h3><p id="mcetoc_1d5icht6ra">Luckily there is a testing framework for testing javaFx: <a href="https://github.com/TestFX/TestFX" target="_blank" rel="noopener noreferrer">TestFX</a></p><p>But, adding tests requires a few changes to our initial project structure:</p><ol><li>Create a "testing"-directory according to this Stackoverflow answer:¬†<a href="https://stackoverflow.com/questions/41638654/java-project-folder-structure-in-intellij-idea" target="_blank" rel="noopener noreferrer" title="Java project folder structure in IntelliJ IDEA">https://stackoverflow.com/questions/41638654/java-project-folder-structure-in-intellij-idea</a>:<pre><code>/src/</code><br><code>/src/main/com/</code><br><code>/src/main/com/LibMan/</code><br><code>/tests/</code><br>/tests/com/<br><code>/tests/com/LibMan</code></pre></li><li>add junit by following the <a href="https://www.jetbrains.com/help/idea/configuring-testing-libraries.html" target="_blank" rel="noopener noreferrer">jetbrains guide</a><ol><li>make sure to rember your choice! junit4 or junit5.</li></ol></li><li>add TestFX with Maven:<figure class="post__image post__image--center"><img class="lazyload" src="https://slashlog.org/media/posts/4/responsive/LibMan_addMavenDependency-xs.png" data-sizes="auto" data-srcset="https://slashlog.org/media/posts/4/responsive/LibMan_addMavenDependency-xs.png 300w ,https://slashlog.org/media/posts/4/responsive/LibMan_addMavenDependency-sm.png 480w ,https://slashlog.org/media/posts/4/responsive/LibMan_addMavenDependency-md.png 749w" alt="adding a dependendy" width="916" height="346"><figcaption>Pick the version that fits your junit version!</figcaption></figure></li></ol><h3 id="mcetoc_1d5icomueb">Adding a simple test</h3><p>The <a href="https://github.com/TestFX/TestFX" target="_blank" rel="noopener noreferrer">TestFX Readme provides</a> a basic example:</p><pre><span class="pl-c">// or (lookup by css id):</span>
<span class="pl-smi">FxAssert</span><span class="pl-k">.</span>verifyThat(<span class="pl-s"><span class="pl-pds">"</span>#myButton<span class="pl-pds">"</span></span>, <span class="pl-smi">LabeledMatchers</span><span class="pl-k">.</span>hasText(<span class="pl-s"><span class="pl-pds">"</span>click me!<span class="pl-pds">"</span></span>));</pre><p>We'll add a button to our initial project to make sure the test succeeds.<br>We don't care about style or layout - just copy the example and add a simple button:</p><figure class="post__image post__image--wide"><img class="lazyload" src="https://slashlog.org/media/posts/4/responsive/LibMan_firstTest-xs.png" data-sizes="auto" data-srcset="https://slashlog.org/media/posts/4/responsive/LibMan_firstTest-xs.png 300w ,https://slashlog.org/media/posts/4/responsive/LibMan_firstTest-sm.png 480w ,https://slashlog.org/media/posts/4/responsive/LibMan_firstTest-md.png 749w" alt="Screenshot of working test" width="1339" height="822"><figcaption>The full setup with a working test.</figcaption></figure><h2 id="mcetoc_1d5idbv1sc">Adding Travis-CI - pom.xml -¬†complexity here we come</h2>After adding a few classes and more junit tests I really wanted to add <a href="https://travis-ci.org" target="_blank" rel="noopener noreferrer">Travis-CI</a> to ensure a constant working state and get instant feedback on how the code is doing.<p>Travis builds the project and runs the tests. In order to to that, it needs to download all dependencies.</p><p class="msg msg--info">Maven writes its configuration in a pom.xml. It also priovides a default project structure.</p><p>Thanks to <a href="https://stackoverflow.com/questions/12508180/how-do-you-mavenize-a-project-using-intellij/12508597#12508597" target="_blank" rel="noopener noreferrer">Stackoverflow I also found a way to add Maven to an existing project</a>¬†in Intellij. Intellij also asks to create a default project structure. After restructuring the project, moving all files in the new directories make sure that the project still runns.</p><h3 id="mcetoc_1d5k3l76le">adding maven</h3><p>Thanks to the <a href="https://github.com/TestFX/TestFX" target="_blank" rel="noopener noreferrer">TestFX Readme</a> we know how to add dependencies:</p><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;org.testfx&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;testfx-junit5&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;4.0.15-alpha&lt;/<span class="pl-ent">version</span>&gt;
    &lt;<span class="pl-ent">scope</span>&gt;test&lt;/<span class="pl-ent">scope</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre><p>After adding all dependencies, we add Travis</p><h3 id="mcetoc_1d5k432grf">.travis.yaml</h3><p>Travis works with most programming languages and provides a good documentation. All configuration is done inside a <code>/.travis.yaml</code> file. A <a href="https://stackoverflow.com/questions/49116678/how-to-run-a-test-on-travis-which-uses-javafx-elements" target="_blank" rel="noopener noreferrer">quick search also shows a basic example</a> on how to test JavaFX with Travis:¬†</p><pre class="lang-java prettyprint prettyprinted"><code><span class="pln">before_install</span><span class="pun">:</span>
  <span class="pun">-</span> <span class="kwd">if</span> <span class="pun">[[</span> <span class="str">"${TRAVIS_OS_NAME}"</span> <span class="pun">==</span><span class="pln"> linux </span><span class="pun">]];</span><span class="pln"> then export DISPLAY</span><span class="pun">=:</span><span class="lit">99.0</span><span class="pun">;</span><span class="pln"> sh </span><span class="pun">-</span><span class="pln">e </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">init</span><span class="pun">.</span><span class="pln">d</span><span class="pun">/</span><span class="pln">xvfb start</span><span class="pun">;</span><span class="pln"> fi

install</span><span class="pun">:</span> <span class="kwd">true<br></span></code></pre><p>¬†adding this to <code>.travis.yaml</code> should to the trick.</p><h3 id="mcetoc_1d5k4b7jsg">A personal motivator: Travis-CI</h3><p class="msg msg--highlight msg--success">The first run will take a while, it might need a few fixes... but it does feel amazing when your build is passing!</p><figure class="post__image--center">¬†<img class="lazyload" src="https://slashlog.org/media/posts/4/responsive/travis-status-xs.png" data-sizes="auto" data-srcset="https://slashlog.org/media/posts/4/responsive/travis-status-xs.png 300w ,https://slashlog.org/media/posts/4/responsive/travis-status-sm.png 480w ,https://slashlog.org/media/posts/4/responsive/travis-status-md.png 749w" alt="Build history" width="604" height="418"></figure><p>Check the console for any hints and errors. Make sure your tests are¬†actually beeing executed!</p><figure class="post__image"><img class="lazyload" src="https://slashlog.org/media/posts/4/responsive/travis-tests-xs.png" data-sizes="auto" data-srcset="https://slashlog.org/media/posts/4/responsive/travis-tests-xs.png 300w ,https://slashlog.org/media/posts/4/responsive/travis-tests-sm.png 480w ,https://slashlog.org/media/posts/4/responsive/travis-tests-md.png 749w" alt="all executed tests succeeded." width="791" height="486"></figure><footer><div class="post__footer"><dl class="post__meta"><dt>Created:</dt><dd><time datetime="2019-03-09T20:32">9 March 2019</time></dd><dt>Updated:</dt><dd><time datetime="2019-03-10T17:16">10 March 2019</time></dd></dl><div class="post__share"><button class="post__share-button" aria-label="Share"><svg width="32" height="32"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#share"></use></svg></button><div class="post__share-popup"><a href="https://twitter.com/share?url=https%3A%2F%2Fslashlog.org%2Flibman-java-library-management-app%2F&amp;via=GetPublii&amp;text=LibMan%20-%20exploring%20Java" class="js-share twitter" title="Share with Twitter" rel="nofollow"><svg class="icon"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fslashlog.org%2Flibman-java-library-management-app%2F&amp;title=LibMan%20-%20exploring%20Java" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow"><svg class="icon"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#linkedin"/></svg> LinkedIn</a></div></div><dl class="post__tag"><dt>Tags:</dt><dd><a href="https://slashlog.org/tag/dev-journal/" title="dev-journal">dev-journal</a></dd><dd><a href="https://slashlog.org/tag/projects/" title="projects">projects</a></dd></dl></div><div class="post__related"><h3>Similar posts:</h3><ul><li><a href="https://slashlog.org/bashblog/" title="bashblog">bashblog</a></li><li><a href="https://slashlog.org/every-tool-deserves-a-name/" title="every tool deserves a name">every tool deserves a name</a></li></ul></div><nav><ul class="post__nav"><li class="post__nav-prev">Prev: <a href="https://slashlog.org/every-tool-deserves-a-name/" rel="prev" title="every tool deserves a name">every tool deserves a name</a></li></ul></nav></footer></div></article></div></div></main><footer class="footer"><div></div><div><div class="footer__copy">&copy; 2019 <a href="https://slashlog.org" rel="nofollow">slashlog</a></div><div class="footer__social"><a href="https://twitter.com/6uhrmittag" aria-label="Twitter"><svg class="icon"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://github.com/6uhrmittag" aria-label="Github"><svg class="icon"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#github"/></svg> </a><a href="https://www.youtube.com/channel/UCcqclJKn7es4QN6g1MZAfww" aria-label="Youtube"><svg class="icon"><use xlink:href="https://slashlog.org/assets/svg/svg-map.svg#youtube"/></svg></a></div></div></footer><script defer="defer" src="https://slashlog.org/assets/js/scripts.min.js?v=fca94377537ddef2ad8ac57d18abdd41"></script><script defer="defer" src="https://slashlog.org/assets/js/prism.js?v=6239ca4269ba0b11f919c3f7ec31aa99"></script><script defer="defer" src="https://slashlog.org/assets/js/prism-line-numbers.min.js?v=13275d3ac10d7028cf6a6f5da276f68c"></script><script defer="defer" src="https://slashlog.org/assets/js/prism-copy-to-clipboard.min.js?v=fabfc3fd9af83cda5208ba2e9f9ed238"></script></body></html>